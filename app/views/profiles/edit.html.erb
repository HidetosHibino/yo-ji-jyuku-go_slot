<%= content_for(:title, t('.title')) %>
<section class="text-center container">
  <div class="row py-lg-5">
    <div class="col-lg-6 col-md-8 mx-auto">
      <h1 class="fw-bolder"><b><%= t('.title') %></b></h1>
    </div>
  </div>
</section>
<div class="container">
  <div class="row">
    <div class="col-lg-6 col-md-8 mx-auto">
      <%= form_with model: @user, url:profile_path, local: true do |f| %>
        <%= render 'shared/error_messages', { object: f.object } %>

        <div class='mt-3 mb-3 text-center'>
          <%= image_tag @user.avatar.url,
                        class: 'rounded-circle',
                        id: 'preview',
                        size:'100x100' %>
        </div>
        <div class="form-group py-3">
          <%= f.label :name %>
          <%= f.text_field :name, class:'form-control' %>
        </div>
        <div class="form-group py-3">
          <%= f.label :avatar %>
          <%= f.file_field :avatar, onchange: 'previewImage()', class:'form-control mb-3', accept: 'image/*' %>
          <%= f.hidden_field :avatar_cache%>
        </div>
        <div class="form-group py-3">
          <%= f.label :introduction %>
          <%= f.text_area :introduction, class:'form-control', row:'2', maxlength:User::USER_INTRODUCTION_MAX_LENGTH %>
        </div>
        <%= f.submit class: 'btn btn-primary my-3' %>
      <% end %>
    </div>
  </div>
</div>
<%= javascript_include_tag 'profiles' %>
